"use strict";(self["webpackChunkvue3_ts_cms"]=self["webpackChunkvue3_ts_cms"]||[]).push([[56],{9251:function(e,t,a){a.d(t,{Z:function(){return W}});var n=a(6252),o=a(3577);const l={class:"page-content"},r={class:"handler-btns"},i=(0,n.Uk)("编辑"),s=(0,n.Uk)("删除");function p(e,t,a,p,d,c){const u=(0,n.up)("el-button"),g=(0,n.up)("Edit"),m=(0,n.up)("el-icon"),h=(0,n.up)("Delete"),C=(0,n.up)("hy-table");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(C,(0,n.dG)({tableData:e.dataList},e.contentTableConfig,{total:e.dataCount,page:e.pageInfo,"onUpdate:page":t[0]||(t[0]=t=>e.pageInfo=t)}),(0,n.Nv)({"header-handler":(0,n.w5)((()=>[e.isCreate?((0,n.wg)(),(0,n.j4)(u,{key:0,type:"primary",onClick:e.handleCreateClick},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(e.createBtn),1)])),_:1},8,["onClick"])):(0,n.kq)("",!0)])),createAt:(0,n.w5)((t=>[(0,n.Uk)((0,o.zw)(e.$filters.formatTime(t.row.createAt)),1)])),updateAt:(0,n.w5)((t=>[(0,n.Uk)((0,o.zw)(e.$filters.formatTime(t.row.updateAt)),1)])),handler:(0,n.w5)((t=>[(0,n._)("div",r,[e.isUpdate?((0,n.wg)(),(0,n.j4)(u,{key:0,text:"",type:"primary",onClick:a=>e.handleEditClick(t.row)},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{size:"default"},{default:(0,n.w5)((()=>[(0,n.Wm)(g)])),_:1}),i])),_:2},1032,["onClick"])):(0,n.kq)("",!0),e.isDelete?((0,n.wg)(),(0,n.j4)(u,{key:1,text:"",type:"primary",onClick:a=>e.handleDeleteClick(t.row)},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{size:"default"},{default:(0,n.w5)((()=>[(0,n.Wm)(h)])),_:1}),s])),_:2},1032,["onClick"])):(0,n.kq)("",!0)])])),_:2},[(0,n.Ko)(e.otherPropSlots,(t=>({name:t.slotName,fn:(0,n.w5)((a=>[t.slotName?(0,n.WI)(e.$slots,t.slotName,{key:0,row:a.row},void 0,!0):(0,n.kq)("",!0)]))})))]),1040,["tableData","total","page"])])}var d=a(2262);const c={class:"table"},u={class:"table-header"},g={class:"title"},m={class:"handler"},h={key:0,class:"footer"};function C(e,t,a,l,r,i){const s=(0,n.up)("el-table-column"),p=(0,n.up)("el-table"),d=(0,n.up)("el-pagination");return(0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("div",u,[(0,n.WI)(e.$slots,"header",{},(()=>[(0,n._)("div",g,(0,o.zw)(e.title),1),(0,n._)("div",m,[(0,n.WI)(e.$slots,"header-handler",{},void 0,!0)])]),!0)]),(0,n.Wm)(p,(0,n.dG)({data:e.tableData,border:"",style:{width:"100%"},onSelectionChange:e.handleSelectionChange},e.childrenProps),{default:(0,n.w5)((()=>[e.showSelectColumn?((0,n.wg)(),(0,n.j4)(s,{key:0,type:"selection"})):(0,n.kq)("",!0),e.showIndexColumn?((0,n.wg)(),(0,n.j4)(s,{key:1,type:"index",label:"序号",width:60,align:"center"})):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.propList,(t=>((0,n.wg)(),(0,n.j4)(s,(0,n.dG)({key:t.prop,align:"center"},t,{"show-overflow-tooltip":""}),{default:(0,n.w5)((a=>[(0,n.WI)(e.$slots,t.slotName,{row:a.row},(()=>[(0,n.Uk)((0,o.zw)(a.row[t.prop?t.prop:"无"]),1)]),!0)])),_:2},1040)))),128))])),_:3},16,["data","onSelectionChange"]),e.showFooter?((0,n.wg)(),(0,n.iD)("div",h,[(0,n.WI)(e.$slots,"table-footer",{},(()=>[(0,n.Wm)(d,{currentPage:e.page.currentPage,"page-size":e.page.pageSize,"page-sizes":[10,20,30],layout:"total, sizes, prev, pager, next, jumper",total:e.total,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])]),!0)])):(0,n.kq)("",!0)])}var w=(0,n.aZ)({props:{tableData:{type:Array,required:!0},propList:{type:Array},showIndexColumn:{type:Boolean,default:!1},showSelectColumn:{type:Boolean,default:!1},title:{type:String,default:""},total:{type:Number,default:0},page:{type:Object,default:()=>({currentPage:1,pageSize:10})},childrenProps:{type:Object,default:()=>({})},showFooter:{type:Boolean,default:!0}},emits:["selectionChange","update:page"],setup(e,{emit:t}){const a=e=>{t("selectionChange",e)},n=a=>{t("update:page",{...e.page,pageSize:a})},o=a=>{t("update:page",{...e.page,currentPage:a})};return{handleSelectionChange:a,handleSizeChange:n,handleCurrentChange:o}}}),f=a(3744);const y=(0,f.Z)(w,[["render",C],["__scopeId","data-v-372ad80c"]]);var k=y,b=k,v=a(1411);function N(e,t){const a=(0,v.oR)(),n=a.state.login.permissions,o=`system:${e}:${t}`;return Boolean(n.find((e=>e===o)))}var z=(0,n.aZ)({components:{HyTable:b},props:{contentTableConfig:{type:Object,required:!0},pageName:{type:String,required:!0},createBtn:{type:String,default:"新建"}},emits:["createBtnClick","editBtnClick"],setup(e,t){const a=N(e.pageName,"create"),o=N(e.pageName,"delete"),l=N(e.pageName,"update"),r=N(e.pageName,"query"),i=(0,d.iH)({currentPage:1,pageSize:10});(0,n.YP)(i,(()=>{p()}));const s=(0,v.oR)(),p=(t={})=>{r&&s.dispatch("system/getPageListAction",{pageName:e.pageName,queryInfo:{offset:(i.value.currentPage-1)*i.value.pageSize,size:i.value.pageSize,...t}})};p();const c=(0,n.Fl)((()=>s.getters["system/pageListData"](e.pageName))),u=(0,n.Fl)((()=>s.getters["system/pageListCount"](e.pageName))),g=e.contentTableConfig.propList.filter((e=>"createAt"!==e.slotName&&("updateAt"!==e.slotName&&"handler"!==e.slotName))),m=t=>{s.dispatch("system/deletePageDataAction",{pageName:e.pageName,id:t.id})},h=()=>{t.emit("createBtnClick")},C=e=>{t.emit("editBtnClick",e)};return{dataList:c,dataCount:u,getPageData:p,pageInfo:i,otherPropSlots:g,isCreate:a,isDelete:o,isUpdate:l,handleDeleteClick:m,handleCreateClick:h,handleEditClick:C}}});const S=(0,f.Z)(z,[["render",p],["__scopeId","data-v-f7b24fa0"]]);var _=S,W=_},7056:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var n=a(6252),o=a(3577);function l(e,t,a,l,r,i){const s=(0,n.up)("PageContent");return(0,n.wg)(),(0,n.j4)(s,{contentTableConfig:e.contentTableConfig,pageName:"menu"},{permission:(0,n.w5)((e=>[(0,n.Uk)((0,o.zw)(e.row.permission??"无"),1)])),_:1},8,["contentTableConfig"])}var r=a(9251);const i={propList:[{prop:"name",label:"菜单名",minWidth:"150",slotName:"name"},{prop:"type",label:"菜单类型",minWidth:"90",slotName:"type"},{prop:"permission",label:"权限",minWidth:"90",slotName:"permission"},{prop:"url",label:"url路径",minWidth:"100",slotName:"url"},{prop:"icon",label:"icon名字",minWidth:"100",slotName:"icon"},{prop:"createAt",label:"创建时间",minWidth:"200",slotName:"createAt"},{prop:"updateAt",label:"更新时间",minWidth:"200",slotName:"updateAt"},{label:"操作",minWidth:"200",slotName:"handler"}],title:"用户列表",showIndexColumn:!0,showSelectColumn:!1,childrenProps:{rowKey:"id",treeProps:{children:"children"}},showFooter:!1};var s=(0,n.aZ)({components:{PageContent:r.Z},setup(){return{contentTableConfig:i}}}),p=a(3744);const d=(0,p.Z)(s,[["render",l]]);var c=d}}]);
//# sourceMappingURL=56.212b8846.js.map